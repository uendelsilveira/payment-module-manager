[ ] NAME:Current Task List DESCRIPTION:Root task for conversation __NEW_AGENT__
-[x] NAME:üî¥ CR√çTICAS - Seguran√ßa e Estabilidade DESCRIPTION:Melhorias cr√≠ticas que devem ser implementadas antes de produ√ß√£o
--[x] NAME:Remover credenciais expostas no phpunit.xml DESCRIPTION:Token de acesso real do Mercado Pago est√° hardcoded no phpunit.xml. Criar phpunit.xml.dist e mover credenciais para vari√°veis de ambiente
--[x] NAME:Implementar autentica√ß√£o/autoriza√ß√£o nas rotas da API DESCRIPTION:Adicionar middleware de autentica√ß√£o (Sanctum) e proteger endpoints sens√≠veis
--[x] NAME:Proteger exposi√ß√£o de credenciais via API DESCRIPTION:Mascarar credenciais no endpoint GET /api/settings/mercadopago
--[x] NAME:Tornar obrigat√≥ria valida√ß√£o de webhook em produ√ß√£o DESCRIPTION:Modificar middleware VerifyMercadoPagoSignature para exigir webhook_secret em produ√ß√£o
--[x] NAME:Implementar rate limiting nos endpoints DESCRIPTION:Adicionar prote√ß√£o contra abuso nos endpoints cr√≠ticos
-[x] NAME:üü† IMPORTANTES - Funcionalidade e Qualidade DESCRIPTION:Melhorias importantes para robustez e manutenibilidade do sistema
--[x] NAME:Criar exce√ß√µes customizadas DESCRIPTION:Definir classes de exce√ß√£o do dom√≠nio (configura√ß√£o inv√°lida, falhas de autentica√ß√£o/autoriza√ß√£o, falhas de webhook e de gateway) e substituir abort/Exception por exce√ß√µes espec√≠ficas nos pontos cr√≠ticos.
-[x] NAME:üü° MODERADAS - Manutenibilidade e Escalabilidade DESCRIPTION:Melhorias para facilitar manuten√ß√£o e preparar para escala
--[x] NAME:Remover MercadoPagoService n√£o utilizado DESCRIPTION:MercadoPagoService √© uma classe abstrata que n√£o √© usada em nenhum lugar do c√≥digo. Remover para evitar confus√£o.
--[x] NAME:Remover gateways vazios (PagSeguro, PayPal, Stripe) DESCRIPTION:Arquivos de gateway vazios que n√£o implementam nada. Remover ou documentar como placeholders para futuras implementa√ß√µes.
--[x] NAME:Implementar cache para configura√ß√µes DESCRIPTION:SettingsRepository faz query no banco a cada chamada. Implementar cache (Redis/file) para melhorar performance.
--[x] NAME:Adicionar soft deletes nas transa√ß√µes DESCRIPTION:Implementar SoftDeletes no modelo Transaction para permitir recupera√ß√£o de dados deletados.
--[x] NAME:Implementar √≠ndices de banco de dados DESCRIPTION:Adicionar √≠ndices nas colunas mais consultadas (external_id, status, gateway, created_at) para melhorar performance de queries.
--[x] NAME:Implementar health check endpoint DESCRIPTION:Criar endpoint /api/health para monitoramento de disponibilidade e status de depend√™ncias (DB, cache, APIs externas).
--[x] NAME:Adicionar testes de performance DESCRIPTION:Criar testes de carga para endpoints cr√≠ticos (processamento de pagamento, webhook) para identificar gargalos.
--[x] NAME:Tornar retry strategy configur√°vel DESCRIPTION:Permitir configura√ß√£o de n√∫mero de tentativas, backoff exponencial e condi√ß√µes de retry via config/payment.php.
-[ ] NAME:üü¢ DESEJ√ÅVEIS - Melhorias e Features DESCRIPTION:Novas funcionalidades e melhorias que agregam valor
--[ ] NAME:Implementar logging estruturado DESCRIPTION:Adicionar logging estruturado com contexto de transa√ß√£o, correla√ß√£o e n√≠veis adequados usando Monolog.
--[ ] NAME:Implementar sistema de eventos e listeners DESCRIPTION:Criar eventos (PaymentProcessed, PaymentFailed, PaymentRefunded) e listeners para desacoplar l√≥gica de neg√≥cio.
--[ ] NAME:Corrigir comando de reprocessamento DESCRIPTION:Melhorar comando ReprocessFailedPayments com filtros, dry-run, e melhor tratamento de erros.
--[ ] NAME:Implementar valida√ß√£o de idempot√™ncia DESCRIPTION:Adicionar idempotency key para evitar processamento duplicado de pagamentos.
--[ ] NAME:Adicionar testes de integra√ß√£o reais DESCRIPTION:Criar testes de integra√ß√£o com sandbox do Mercado Pago para validar fluxo completo.
--[ ] NAME:Implementar valida√ß√£o de limites monet√°rios DESCRIPTION:Adicionar valida√ß√£o de valores m√≠nimos/m√°ximos por m√©todo de pagamento e gateway.
--[ ] NAME:Implementar processamento ass√≠ncrono de webhooks DESCRIPTION:Usar filas (queues) para processar webhooks de forma ass√≠ncrona e melhorar performance.
--[ ] NAME:Adicionar suporte a m√∫ltiplas moedas DESCRIPTION:Expandir suporte al√©m de BRL, adicionar convers√£o de moedas e valida√ß√£o.
--[ ] NAME:Implementar relat√≥rios e dashboards DESCRIPTION:Criar endpoints para relat√≥rios de transa√ß√µes, m√©tricas e an√°lises.
--[ ] NAME:Adicionar notifica√ß√µes de status DESCRIPTION:Implementar notifica√ß√µes (email, SMS, webhook) para mudan√ßas de status de pagamento.
-[ ] NAME:‚ö™ OPCIONAIS - Polish e Conven√ß√µes DESCRIPTION:Melhorias de qualidade de c√≥digo e conven√ß√µes
--[ ] NAME:Padronizar nomes de vari√°veis para ingl√™s DESCRIPTION:Algumas vari√°veis e coment√°rios est√£o em portugu√™s. Padronizar tudo para ingl√™s.
--[x] NAME:Adicionar .editorconfig DESCRIPTION:Criar arquivo .editorconfig para padronizar configura√ß√µes de editor entre desenvolvedores.
--[ ] NAME:Configurar GitHub Actions/CI DESCRIPTION:Melhorar pipeline de CI com testes, linting, e an√°lise de c√≥digo.
--[ ] NAME:Criar CHANGELOG.md DESCRIPTION:Documentar mudan√ßas do projeto seguindo padr√£o Keep a Changelog.
--[ ] NAME:Criar CONTRIBUTING.md DESCRIPTION:Adicionar guia de contribui√ß√£o para desenvolvedores externos.
--[ ] NAME:Configurar code coverage report DESCRIPTION:Adicionar relat√≥rio de cobertura de c√≥digo e integrar com servi√ßos como Codecov.
--[ ] NAME:Adicionar badges no README DESCRIPTION:Adicionar badges de build status, coverage, version, license no README.
--[ ] NAME:Expandir exemplos de uso no README DESCRIPTION:Adicionar mais exemplos pr√°ticos de uso do pacote no README.
--[ ] NAME:Adicionar Docker/Docker Compose DESCRIPTION:Criar Dockerfile e docker-compose.yml para facilitar desenvolvimento local.
--[ ] NAME:Configurar an√°lise est√°tica de c√≥digo DESCRIPTION:Configurar PHPStan/Psalm no n√≠vel m√°ximo para an√°lise est√°tica.